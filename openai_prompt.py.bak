def build_chat_content(text: str, topic: str) -> str:
    topic = f"主题领域：{topic}" if topic else ""
    return f"""
你是一名专业的字幕校对专家。请对以下语音识别生成的文本进行纠错和润色。

{topic}

## 纠错要求：
1. **纠正同音字和错别字**：重点修正语音识别常见的同音字错误
2. **修正语法和标点**：使句子通顺，符合英文和中文语法规范
3. **保持口语化流畅**：保留口语的自然感，删除无意义的重复词和语气词，
4. **统一专有名词**：确保术语、人名、地名前后一致
5. **基于上下文补全逻辑**：对识别不全的句子进行合理补全
6. **绝对保持原意**：不能改变说话者的原本意图
7. **保留段落行号**：输入文本带行号，纠错后即使内容为空，行号依然保留

## 输入文本：
{text}

## 输出要求：
1. 输出修正后的英文文本
2. 输出翻译后的中文文本
3. 文本段落开头输出行号
4. 不需要额外解释
5. 严格保持输出与输入段落结构一致，行号一一对应
6. 输出格式严格符合要求，避免任何格式错误，以便直接应用于字幕文件中
"""
